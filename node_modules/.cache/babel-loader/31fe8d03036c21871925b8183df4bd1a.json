{"ast":null,"code":"import { pageAction } from \"./pageSlice\";\nexport const fetchCartData = () => {\n  return dispatch => {\n    //Start Fetching Data\n    dispatch(pageAction.setNotification({\n      status: \"Fetching\",\n      title: \"Fetching...\",\n      message: \"Data is fetching\"\n    }));\n\n    const fetchData = async () => {\n      const response = await fetch(\"https://react-http-efc44-default-rtdb.asia-southeast1.firebasedatabase.app/cart.json\");\n    };\n  };\n};\nexport const sendCartData = cart => {\n  return async dispatch => {\n    //Start Sending Data\n    dispatch(pageAction.setNotification({\n      status: \"Sending\",\n      title: \"Sending...\",\n      message: \"Data is sending...\"\n    }));\n\n    const sendRequest = async () => {\n      const response = await fetch(\"https://react-http-efc44-default-rtdb.asia-southeast1.firebasedatabase.app/cart.json\", {\n        method: \"put\",\n        body: JSON.stringify(cart)\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Sending Cart Data Failed\");\n      }\n    };\n\n    try {\n      await sendRequest(); //Sending Data Complete\n\n      dispatch(pageAction.setNotification({\n        status: \"success\",\n        title: \"success\",\n        message: \"Data is send successfully\"\n      })); //Reset Notification\n\n      setTimeout(() => {\n        dispatch(pageAction.resetNotification());\n      }, 1000);\n    } catch (error) {\n      dispatch(pageAction.setNotification({\n        status: \"error\",\n        title: \"Error\",\n        message: \"Sending Data Failed\"\n      }));\n    }\n  };\n};","map":{"version":3,"sources":["/Users/thipsukhon/Desktop/React Udemy/Advance-redux/src/store/product-action.js"],"names":["pageAction","fetchCartData","dispatch","setNotification","status","title","message","fetchData","response","fetch","sendCartData","cart","sendRequest","method","body","JSON","stringify","ok","Error","setTimeout","resetNotification","error"],"mappings":"AAAA,SAASA,UAAT,QAA2B,aAA3B;AAEA,OAAO,MAAMC,aAAa,GAAG,MAAM;AACjC,SAAQC,QAAD,IAAc;AACnB;AACAA,IAAAA,QAAQ,CACNF,UAAU,CAACG,eAAX,CAA2B;AACzBC,MAAAA,MAAM,EAAE,UADiB;AAEzBC,MAAAA,KAAK,EAAE,aAFkB;AAGzBC,MAAAA,OAAO,EAAE;AAHgB,KAA3B,CADM,CAAR;;AAQA,UAAMC,SAAS,GAAG,YAAY;AAC1B,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,sFAAD,CAA5B;AACH,KAFD;AAGD,GAbD;AAcD,CAfM;AAiBP,OAAO,MAAMC,YAAY,GAAIC,IAAD,IAAU;AACpC,SAAO,MAAOT,QAAP,IAAoB;AACzB;AACAA,IAAAA,QAAQ,CACNF,UAAU,CAACG,eAAX,CAA2B;AACzBC,MAAAA,MAAM,EAAE,SADiB;AAEzBC,MAAAA,KAAK,EAAE,YAFkB;AAGzBC,MAAAA,OAAO,EAAE;AAHgB,KAA3B,CADM,CAAR;;AAQA,UAAMM,WAAW,GAAG,YAAY;AAC9B,YAAMJ,QAAQ,GAAG,MAAMC,KAAK,CAC1B,sFAD0B,EAE1B;AAAEI,QAAAA,MAAM,EAAE,KAAV;AAAiBC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,IAAf;AAAvB,OAF0B,CAA5B;;AAKA,UAAI,CAACH,QAAQ,CAACS,EAAd,EAAkB;AAChB,cAAM,IAAIC,KAAJ,CAAU,0BAAV,CAAN;AACD;AACF,KATD;;AAWA,QAAI;AACF,YAAMN,WAAW,EAAjB,CADE,CAGF;;AACAV,MAAAA,QAAQ,CACNF,UAAU,CAACG,eAAX,CAA2B;AACzBC,QAAAA,MAAM,EAAE,SADiB;AAEzBC,QAAAA,KAAK,EAAE,SAFkB;AAGzBC,QAAAA,OAAO,EAAE;AAHgB,OAA3B,CADM,CAAR,CAJE,CAYF;;AACAa,MAAAA,UAAU,CAAC,MAAM;AACfjB,QAAAA,QAAQ,CAACF,UAAU,CAACoB,iBAAX,EAAD,CAAR;AACD,OAFS,EAEP,IAFO,CAAV;AAGD,KAhBD,CAgBE,OAAOC,KAAP,EAAc;AACdnB,MAAAA,QAAQ,CACNF,UAAU,CAACG,eAAX,CAA2B;AACzBC,QAAAA,MAAM,EAAE,OADiB;AAEzBC,QAAAA,KAAK,EAAE,OAFkB;AAGzBC,QAAAA,OAAO,EAAE;AAHgB,OAA3B,CADM,CAAR;AAOD;AACF,GA9CD;AA+CD,CAhDM","sourcesContent":["import { pageAction } from \"./pageSlice\";\n\nexport const fetchCartData = () => {\n  return (dispatch) => {\n    //Start Fetching Data\n    dispatch(\n      pageAction.setNotification({\n        status: \"Fetching\",\n        title: \"Fetching...\",\n        message: \"Data is fetching\",\n      })\n    );\n\n    const fetchData = async () => {\n        const response = await fetch(\"https://react-http-efc44-default-rtdb.asia-southeast1.firebasedatabase.app/cart.json\")\n    };\n  };\n};\n\nexport const sendCartData = (cart) => {\n  return async (dispatch) => {\n    //Start Sending Data\n    dispatch(\n      pageAction.setNotification({\n        status: \"Sending\",\n        title: \"Sending...\",\n        message: \"Data is sending...\",\n      })\n    );\n\n    const sendRequest = async () => {\n      const response = await fetch(\n        \"https://react-http-efc44-default-rtdb.asia-southeast1.firebasedatabase.app/cart.json\",\n        { method: \"put\", body: JSON.stringify(cart) }\n      );\n\n      if (!response.ok) {\n        throw new Error(\"Sending Cart Data Failed\");\n      }\n    };\n\n    try {\n      await sendRequest();\n\n      //Sending Data Complete\n      dispatch(\n        pageAction.setNotification({\n          status: \"success\",\n          title: \"success\",\n          message: \"Data is send successfully\",\n        })\n      );\n\n      //Reset Notification\n      setTimeout(() => {\n        dispatch(pageAction.resetNotification());\n      }, 1000);\n    } catch (error) {\n      dispatch(\n        pageAction.setNotification({\n          status: \"error\",\n          title: \"Error\",\n          message: \"Sending Data Failed\",\n        })\n      );\n    }\n  };\n};\n"]},"metadata":{},"sourceType":"module"}